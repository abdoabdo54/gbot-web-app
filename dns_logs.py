\"\"\"\nSimple in-memory DNS operation log with capped history.\n\"\"\"\nfrom __future__ import annotations\n\nimport threading\nimport time\nfrom typing import Dict, List\n\n_MAX_LOGS = 500\n_lock = threading.Lock()\n_logs: List[Dict] = []\n\n\ndef add_log_entry(operation: str, domain: str = \"\", status: str = \"info\", message: str = \"\", target: str = \"\") -> None:\n    entry = {\n        \"timestamp\": time.strftime(\"%Y-%m-%d %H:%M:%S\"),\n        \"operation\": operation,\n        \"domain\": domain,\n        \"status\": status,\n        \"message\": message,\n        \"target\": target,\n    }\n    with _lock:\n        _logs.append(entry)\n        if len(_logs) > _MAX_LOGS:\n            del _logs[: len(_logs) - _MAX_LOGS]\n\n\ndef get_recent_logs(limit: int = 50) -> List[Dict]:\n    with _lock:\n        return list(_logs[-limit:])\n